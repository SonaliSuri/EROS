{"ast":null,"code":"import React from\"react\";import{render}from\"react-dom\";class DynamicTable extends React.Component{constructor(...args){super(...args);this.state={rows:[{}]};this.handleChange=idx=>e=>{var _e$target=e.target,name=_e$target.name,value=_e$target.value;var rows=[...this.state.rows];rows[idx]={[\"email\"]:name==\"name\"?value:rows[idx][\"email\"],[\"share\"]:name==\"mobile\"?value:rows[idx][\"share\"]};this.setState({rows});};this.handleAddRow=()=>{var item={name:\"\",mobile:\"\"};this.setState({rows:[...this.state.rows,item]});console.log(this.state.rows);var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({\"email\":this.state.rows[this.state.rows.length-1].email,\"share\":this.state.rows[this.state.rows.length-1].share});console.log(raw);var requestOptions={method:'POST',headers:myHeaders,body:raw,redirect:'follow'};console.log(raw);var proxyurl=\"https://cors-anywhere.herokuapp.com/\";fetch(\"https://ferrous-portal-295000.wl.r.appspot.com/add_private_owners\",requestOptions).then(response=>response.text()).then(result=>console.log(result)).catch(error=>console.log('error',error));};this.RemoveRow=()=>{this.setState({rows:this.state.rows.slice(0,-1)});};this.handleRemoveSpecificRow=idx=>()=>{var rows=[...this.state.rows];rows.splice(idx,1);this.setState({rows});var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({\"email\":this.state.rows[idx].email});console.log(raw);var requestOptions={method:'POST',headers:myHeaders,body:raw,redirect:'follow'};console.log(raw);var proxyurl=\"https://cors-anywhere.herokuapp.com/\";fetch(\"https://ferrous-portal-295000.wl.r.appspot.com/delete_private_owners\",requestOptions).then(response=>response.text()).then(result=>console.log(result)).catch(error=>console.log('error',error));};}render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{color:\"#000000\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"row clearfix\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 column\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\",id:\"tab_logic\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\",style:{color:\"#000000\"}},\" Sr No \"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\",style:{color:\"#000000\"}},\" Email \"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\",style:{color:\"#000000\"}},\" Share % \"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.rows.map((item,idx)=>/*#__PURE__*/React.createElement(\"tr\",{id:\"addr0\",key:idx},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#000000\"}},idx+1)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:this.state.rows[idx].name,onChange:this.handleChange(idx),className:\"form-control emails\",style:{color:\"#000000\"}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"mobile\",value:this.state.rows[idx].mobile,onChange:this.handleChange(idx),className:\"form-control shares\",style:{color:\"#000000\"}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-danger btn-sm\",onClick:this.handleRemoveSpecificRow(idx)},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-trash\"}))))))),/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleAddRow,className:\"btn btn-primary\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"}))))));}}export default DynamicTable;","map":{"version":3,"sources":["/Users/sonalisuri/Documents/Home_Page/src/views/IndexSections/DynamicTable.js"],"names":["React","render","DynamicTable","Component","state","rows","handleChange","idx","e","target","name","value","setState","handleAddRow","item","mobile","console","log","myHeaders","Headers","append","raw","JSON","stringify","length","email","share","requestOptions","method","headers","body","redirect","proxyurl","fetch","then","response","text","result","catch","error","RemoveRow","slice","handleRemoveSpecificRow","splice","color","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { render } from \"react-dom\";\n\nclass DynamicTable extends React.Component {\n  state = {\n    rows: [{}]\n  };\n  handleChange = idx => e => {\n    const { name, value } = e.target;\n    const rows = [...this.state.rows];\n  \n\n    rows[idx] = {\n      [\"email\"]: name==\"name\"? value:rows[idx][\"email\"],\n      [\"share\"]: name==\"mobile\"? value:rows[idx][\"share\"]\n    };\n\n    this.setState({\n      rows\n    });\n\n  };\n  handleAddRow = () => {\n    const item = {\n      name: \"\",\n      mobile: \"\"\n    };\n    this.setState({\n      rows: [...this.state.rows, item]\n    });\n    console.log(this.state.rows);\n\n    var myHeaders = new Headers();\n                myHeaders.append(\"Content-Type\", \"application/json\");\n                    \n                        var raw = JSON.stringify({\"email\":this.state.rows[this.state.rows.length-1].email,\"share\":this.state.rows[this.state.rows.length-1].share});\n                        console.log(raw);\n                        var requestOptions = {\n                          method: 'POST',\n                          headers: myHeaders,\n                          body: raw,\n                          redirect: 'follow'\n                        };\n                        console.log(raw);\n                        const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                        fetch(\"https://ferrous-portal-295000.wl.r.appspot.com/add_private_owners\", requestOptions)\n                          .then(response => response.text())\n                          .then(result => console.log(result))\n                          .catch(error => console.log('error', error));\n                         \n  };\n  handle\n  RemoveRow = () => {\n    this.setState({\n      rows: this.state.rows.slice(0, -1)\n    });\n   \n  };\n  handleRemoveSpecificRow = (idx) => () => {\n    const rows = [...this.state.rows]\n    rows.splice(idx, 1)\n    this.setState({ rows })\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n        \n            var raw = JSON.stringify({\"email\":this.state.rows[idx].email});\n            console.log(raw);\n            var requestOptions = {\n              method: 'POST',\n              headers: myHeaders,\n              body: raw,\n              redirect: 'follow'\n            };\n            console.log(raw);\n            const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n            fetch(\"https://ferrous-portal-295000.wl.r.appspot.com/delete_private_owners\", requestOptions)\n              .then(response => response.text())\n              .then(result => console.log(result))\n              .catch(error => console.log('error', error));\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"container\" style={{color:\"#000000\"}}>\n          <div className=\"row clearfix\">\n            <div className=\"col-md-12 column\">\n              <table\n                className=\"table table-hover\"\n                id=\"tab_logic\"\n              >\n                <thead>\n                  <tr>\n                    <th className=\"text-center\" style={{color:\"#000000\"}}> Sr No </th>\n                    <th className=\"text-center\" style={{color:\"#000000\"}}> Email </th>\n                    <th className=\"text-center\"style={{color:\"#000000\"}}> Share % </th>\n                    <th />\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.rows.map((item, idx) => (\n                    <tr id=\"addr0\" key={idx}>\n                      <td><p style={{color:\"#000000\"}}>{idx+1}</p></td>\n                      <td>\n                        <input\n                          type=\"text\"\n                          name=\"name\"\n                          value={this.state.rows[idx].name}\n                          onChange={this.handleChange(idx)}\n                          className=\"form-control emails\" style={{color:\"#000000\"}}\n                          \n                        />\n                      </td>\n                      <td>\n                        <input\n                          type=\"text\"\n                          name=\"mobile\"\n                          value={this.state.rows[idx].mobile}\n                          onChange={this.handleChange(idx)} \n                          className=\"form-control shares\" style={{color:\"#000000\"}}\n                        />\n                      </td>\n                      <td>\n                        <button\n                          className=\"btn btn-outline-danger btn-sm\"\n                          onClick={this.handleRemoveSpecificRow(idx)}\n                        >\n                          <i class=\"fa fa-trash\"></i>\n                         \n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              <button onClick={this.handleAddRow} className=\"btn btn-primary\">\n              <i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i>\n              </button>\n            \n            \n     \n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DynamicTable;"]},"metadata":{},"sourceType":"module"}